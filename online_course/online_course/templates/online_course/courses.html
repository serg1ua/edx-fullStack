{% extends "online_course/base.html" %}

<!-- static -->
{% load static %}
<!-- title -->
{% block title %} Course list {% endblock %}
<!-- courses -->
{% block courses %} {% if course_list %}
<div class="container courses">
  <h2>Courses</h2>
  <hr />
  <div class="card-deck">
    {% for course in course_list %}
    <div class="card mb-3">
      <img
        class="card-img"
        src="{% static 'online_course/media/' %}{{ course.image }}"
        alt="Course image"
      />
      <div class="card-body bg-light">
        <h5 class="card-title">
          {{ course.name }},
          <span class="text-success"> {{ course.total_enrollment}} enrolled</span>
        </h5>
        <p class="card-text">{{ course.description}}</p>
      </div>
      <div class="enroll">
        <form action="{% url 'online_course:enroll' course.id %}" method="post">
          {% csrf_token %}
          <input
            class="btn btn-primary form-control"
            type="submit"
            value="{% if course.is_enrolled %}Enter{% else %}Enroll{% endif %} "
          />
        </form>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% else %}
<p>No courses are available.</p>
{% endif %} {% endblock %}
